{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 84651320a7f85a046566","webpack:///./src/use.js","webpack:///./src/component.js"],"names":["Cat","node","name","props","cats","Array","from","document","getElementsByClassName","catClasses","map","cat","window","storedComponents","Component","currentComponents","Object","keys","id","length","reduce","propList","prop","value","getAttribute","dependents","querySelectorAll","forEach","update","includes","dependent","textContent","component"],"mappings":"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","file":"componentizer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"componentizer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"componentizer\"] = factory();\n\telse\n\t\troot[\"componentizer\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 84651320a7f85a046566","import Component from './component';\n\nclass Cat extends Component {\n  constructor(node, name, props) {\n    super(node, name, props);\n  }\n\n  what() {\n    return this.props;\n  }\n}\n\nconst cats = Array.from(document.getElementsByClassName('cat'));\n\nconst catClasses = cats.map((cat) => new Cat(cat, 'cat', ['age', 'color']));\nwindow.catClasses = catClasses;\n// const cat = new Cat(document.getElementById('cat'), 'cat', ['age', 'color']);\n\n// cat.update('age', 7);\n// window.cat = cat;\n\n\n\n// WEBPACK FOOTER //\n// ./src/use.js","const storedComponents = {};\n\nclass Component {\n  constructor(node, name, props) {\n    const currentComponents = Object.keys(storedComponents);\n    this.props = {};\n    this.name = name;\n    this.id = currentComponents.length;\n\n    if (props) {\n      this.props = props.reduce((propList, prop) => {\n        propList[prop] = {\n          value: node.getAttribute(`data-prop-${prop}`),\n          dependents: Array.from(node.querySelectorAll(`${this.name}-${prop}`)),\n        };\n\n        return propList;\n      }, {});\n\n      Object.keys(this.props).forEach((prop) => this.update(prop, this.props[prop].value));\n    }\n\n    if (currentComponents.includes(name)) {\n      const length = Object.keys(storedComponents[name]).length;\n      storedComponents[name][length] = this;\n      return;\n    }\n\n    storedComponents[name] = {\n      0: this,\n    };\n  }\n\n  update(prop, value) {\n    if (!value) {\n      return;\n    }\n    this.props[prop].value = value;\n    this.props[prop].dependents.forEach((dependent) => {\n      dependent.textContent = this.props[prop].value;\n    });\n    // modify this to use requestAnimationFrame for batching\n    // what about on non-tag elements, what if want on a button etc\n      // thinking some data attribute\n  }\n\n  static destroy(component) {\n    const {name, id} = component;\n    storedComponents[name][id] = null;\n    delete storedComponents[name][id];\n    component = null;\n  }\n\n  static stored() {\n    return storedComponents;\n  }\n}\n\nexport default Component;\n\n\n\n// WEBPACK FOOTER //\n// ./src/component.js"],"sourceRoot":""}