{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 67cc48eeb34bdaf77f79","webpack:///./src/use.js","webpack:///./src/component.js"],"names":["Cat","node","name","props","cat","document","getElementById","update","window","storedComponents","Component","currentComponents","Object","keys","id","length","reduce","propList","prop","value","getAttribute","dependents","Array","from","querySelectorAll","includes","forEach","dependent","textContent","component"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;ACtCA;;;;;;;;;;;;KAEMA,G;;;AACJ,gBAAYC,IAAZ,EAAkBC,IAAlB,EAAwBC,KAAxB,EAA+B;AAAA;;AAAA,sGACvBF,IADuB,EACjBC,IADiB,EACXC,KADW;AAE9B;;;;4BAEM;AACL,cAAO,KAAKA,KAAZ;AACD;;;;;;AAGH,KAAMC,MAAM,IAAIJ,GAAJ,CAAQK,SAASC,cAAT,CAAwB,KAAxB,CAAR,EAAwC,KAAxC,EAA+C,CAAC,KAAD,EAAQ,OAAR,CAA/C,CAAZ;;AAEAF,KAAIG,MAAJ,CAAW,KAAX,EAAkB,CAAlB;AACAC,QAAOJ,GAAP,GAAaA,GAAb,C;;;;;;;;;;;;;;;;ACfA,KAAMK,mBAAmB,EAAzB;;KAEMC,S;AACJ,sBAAYT,IAAZ,EAAkBC,IAAlB,EAAwBC,KAAxB,EAA+B;AAAA;;AAAA;;AAC7B,SAAMQ,oBAAoBC,OAAOC,IAAP,CAAYJ,gBAAZ,CAA1B;AACA,UAAKN,KAAL,GAAa,EAAb;AACA,UAAKD,IAAL,GAAYA,IAAZ;AACA,UAAKY,EAAL,GAAUH,kBAAkBI,MAA5B;;AAEA,SAAIZ,KAAJ,EAAW;AACT,YAAKA,KAAL,GAAaA,MAAMa,MAAN,CAAa,UAACC,QAAD,EAAWC,IAAX,EAAoB;AAC5CD,kBAASC,IAAT,IAAiB;AACfC,kBAAOlB,KAAKmB,YAAL,gBAA+BF,IAA/B,CADQ;AAEfG,uBAAYC,MAAMC,IAAN,CAAWtB,KAAKuB,gBAAL,CAAyB,MAAKtB,IAA9B,SAAsCgB,IAAtC,CAAX;AAFG,UAAjB;;AAKA,gBAAOD,QAAP;AACD,QAPY,EAOV,EAPU,CAAb;AAQD;;AAED,SAAIN,kBAAkBc,QAAlB,CAA2BvB,IAA3B,CAAJ,EAAsC;AACpC,WAAMa,SAASH,OAAOC,IAAP,CAAYJ,iBAAiBP,IAAjB,CAAZ,EAAoCa,MAAnD;AACAN,wBAAiBP,IAAjB,EAAuBa,MAAvB,IAAiC,IAAjC;AACA;AACD;;AAEDN,sBAAiBP,IAAjB,IAAyB;AACvB,UAAG;AADoB,MAAzB;AAGD;;;;4BAEMgB,I,EAAMC,K,EAAO;AAAA;;AAClB,YAAKhB,KAAL,CAAWe,IAAX,EAAiBC,KAAjB,GAAyBA,KAAzB;AACA,YAAKhB,KAAL,CAAWe,IAAX,EAAiBG,UAAjB,CAA4BK,OAA5B,CAAoC,UAACC,SAAD,EAAe;AACjDA,mBAAUC,WAAV,GAAwB,OAAKzB,KAAL,CAAWe,IAAX,EAAiBC,KAAzC;AACD,QAFD;AAGA;AACA;AACE;AACH;;;6BAEcU,S,EAAW;AAAA,wBACLA,SADK;AAAA,WACjB3B,IADiB,cACjBA,IADiB;AAAA,WACXY,EADW,cACXA,EADW;;AAExBL,wBAAiBP,IAAjB,EAAuBY,EAAvB,IAA6B,IAA7B;AACA,cAAOL,iBAAiBP,IAAjB,EAAuBY,EAAvB,CAAP;AACAe,mBAAY,IAAZ;AACD;;;8BAEe;AACd,cAAOpB,gBAAP;AACD;;;;;;mBAGYC,S","file":"componentizer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"componentizer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"componentizer\"] = factory();\n\telse\n\t\troot[\"componentizer\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 67cc48eeb34bdaf77f79","import Component from './component';\n\nclass Cat extends Component {\n  constructor(node, name, props) {\n    super(node, name, props);\n  }\n\n  what() {\n    return this.props;\n  }\n}\n\nconst cat = new Cat(document.getElementById('cat'), 'cat', ['age', 'color']);\n\ncat.update('age', 7);\nwindow.cat = cat;\n\n\n\n// WEBPACK FOOTER //\n// ./src/use.js","const storedComponents = {};\n\nclass Component {\n  constructor(node, name, props) {\n    const currentComponents = Object.keys(storedComponents);\n    this.props = {};\n    this.name = name;\n    this.id = currentComponents.length;\n\n    if (props) {\n      this.props = props.reduce((propList, prop) => {\n        propList[prop] = {\n          value: node.getAttribute(`data-prop-${prop}`),\n          dependents: Array.from(node.querySelectorAll(`${this.name}-${prop}`)),\n        };\n\n        return propList;\n      }, {});\n    }\n\n    if (currentComponents.includes(name)) {\n      const length = Object.keys(storedComponents[name]).length;\n      storedComponents[name][length] = this;\n      return;\n    }\n\n    storedComponents[name] = {\n      0: this,\n    };\n  }\n\n  update(prop, value) {\n    this.props[prop].value = value;\n    this.props[prop].dependents.forEach((dependent) => {\n      dependent.textContent = this.props[prop].value;\n    });\n    // modify this to use requestAnimationFrame for batching\n    // what about on non-tag elements, what if want on a button etc\n      // thinking some data attribute\n  }\n\n  static destroy(component) {\n    const {name, id} = component;\n    storedComponents[name][id] = null;\n    delete storedComponents[name][id];\n    component = null;\n  }\n\n  static stored() {\n    return storedComponents;\n  }\n}\n\nexport default Component;\n\n\n\n// WEBPACK FOOTER //\n// ./src/component.js"],"sourceRoot":""}